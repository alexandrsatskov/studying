# Врубаем свой плейлист


## Описание
Вы когда нибудь вставали к первой паре?.. Печальное чувство, правда? Теперь можно будет ехать на учебу|работу заряженным и позитивным! (но это не точно)  
Новая SUF (super useful feature), позволяет пользователям такси выбирать в качесте опции при заказе такси свой плейлист.


## Гипотеза
1. В первую очередь просто классная идея как мне кажется, учитывая параболический рост кол-ва музыки и ее производных в последние десятилетия.
Больше позитивных оценок, как пользователю, так и водителю.  
\*В данном случае предполагается, что музыка содаст позитивную, дружескую атмосферу, НО только в том случае, если она устраивает обе стороны С:

2. Для бизнеса можно выделить следующие пункты:
    - Из-за, возможной, позитивной атмосферы пользователи захотят оставить чаевые водителю.
    - Опция очевидно будет платная, => $$$
    - Вырастет кол-во пользователей Яндекс.Go => $$$
    - Очевидно, что функционал, по крайней мере, на первое время, нужно будет связать с Яндекс.Музыка, => вырастет кол-во пользователей данного сервиса, => $$$
    - Скорее всего такое событие не пройдет мимо СМИ. Так что можно как-то сыграть и на этом.
    - (субъективно) У молодежи больше лояльности к Яндексу, из-за таких нестандартных идей.


## MVP. 
По идее, вся реализация заключается в добавлении нового option к уже существующим.  
Полагаю что список option'ов уже корректно обрабатывается в сервисе, и, скорее всего, ничего не сломается если добавим еще один. Следовательно, практически ничего менять/дописывать не нужно.

*<В данный момент я подумал, что не все так гладко>*  
 - Музыка должна хотя бы автоматически начать проигрываться в рандомном порядке, в идеале же клиент сам сможет контролировать процесс со своего устройства. НО, у нас нет интеграции с Яндекс.Музыкой :c
PS. Подумал, может быть у Музыки есть какое-то api для создание временной сессии для доступа к музыке?..
 - Поэтому придется все делать ручками: как-то обговаривать этот процесс с водителем, перед началом поездки.

1. Не особо понмаю за микросервисы и монолит, вроде как реализация *не тянет на отдельный сервис?*, поэтому пишем в монолит  
2. Что нужно сделать  
    - Создать новый option в приложении: self_playlist: bool = False
    - Модифицируем БД водителей. Добавляем новый opiton: loyal_to_client_music: bool = False
    - В ручку  /assing_order добавляем поле с ссылкой на Яндекс.Музыку, ее берем из аккаунта клиента, => в приложении для водителя нужно добавить функционал по обработке для нового поля.
\*\*По итогу водителю придется ручками заходить по ссылке и включать музыку, что не очень уж и круто.


## Полная реализация
Сделать интеграцию с Яндекс.Музыка (как сделано с Eats, Lavka и т.п.), чтобы пользователь мог контролировать music flow, но это уже куда более глобальная идея.


## Тесты
Так как особо ничего не изменилось, то остается только чуть подправить существующие.  
unit: чуть изменяем тест на /assing_order, так как добавили новое поле (ссылка на клиентскую музыку), для приложения водителя нужно сделать тоже самое


## Как раскатываем
Включить для пользователей Я.Плюс кажется оптимальным вариантом - им приятно, что участвуют в alpha-тесте, нам - метрики. 
За чем следим:
1. Изменилось кол-во чаевых?
2. Люди стали ставить больше оценок?
3. Выросло кол-во пользователей?


## Итог
Не делал секции с диаграммами и swagger'ом потому что изначально не подумал про момет что нужно будет взаимодействовать со сторонними сервисами. Поэтому от реализации почти ничего не осталось, увы, но эта идея нереализуема в контексте одного сервиса Я.Go. По крайней мере проработал задумку, впредь буду внимателен к подобным моментам C:  
  
\*Изначально хотел сделать фичу которая мне по душе для четвертого задания, загорелся этой идеей, но не вышло.  
  
\*\*nevertheless все равно загружу на гитхаб, посмотрите что и как, может все же можно что-то здесь придумать.  
  
\*\*\*[Ссылка на оригинальную фичу](https://github.com/YaBackSchool2021/homework1/pull/12/files?short_path=887975f#diff-887975fae30699d64776d263e337dafe316de8870f5ad12ddfec5966a2fac092)
